% Note: remove `openany` for printed version
\documentclass[12pt,a4paper,openany,dutch,english]{extbook}
\usepackage[a4paper,includeheadfoot,margin=2.50cm]{geometry}


% By default, LaTeX tries to stretch whitespace between paragraphs on a page in order to reduce whitespace at the end of the page. This sometimes gives ugly results. The following command disables that stretching.
\raggedbottom % Don't reduce whitespace at the end of a page.

\renewcommand{\baselinestretch}{1.2}  % stretch horizontal space between everything by 20%


\usepackage[normalem]{ulem} % Underlined numbers in S (siunitx) columns
\usepackage[hyphens]{url} % Break line on hyphens in long urls
\usepackage{graphicx}
\graphicspath{{images/}}
\usepackage{pdfpages}
\usepackage{enumitem}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
\usepackage[toc,page]{appendix}
\usepackage{fontspec}
\usepackage{yhmath}

% Don't indent table of contents, list of figures, and list of tables
\usepackage{tocloft}
\setlength{\cftsecindent}{0pt}    % Remove indent for \section in Table of Contents
\setlength{\cftsubsecindent}{0pt} % Remove indent for \subsection in Table of Contents
\setlength{\cftfigindent}{0pt}    % remove indentation from figures in List of Figures
\setlength{\cfttabindent}{0pt}    % remove indentation from tables in List of Tables

\usepackage{parskip} % Add space between two paragraphs and don't indent the first line of the paragraph

%
% UGent style guide — use UGent Panno Text if available, else Arial (recommended for external distribution)
%
\IfFileExists{fonts/UGentPannoText-Normal.ttf}{%
  \setmainfont[
    Path=fonts/,
    BoldFont      =UGentPannoText-SemiBold.ttf,
    ItalicFont    =UGentPannoText-Normal.ttf,
    ItalicFeatures={FakeSlant=0.3},
    BoldItalicFont=UGentPannoText-SemiBold.ttf,
    BoldItalicFeatures={FakeSlant=0.3},
  ]{UGentPannoText-Normal.ttf}
}{%
  \setmainfont{Arial}
}
\urlstyle{same} % Also use the default font for URLs


% If you want left justified text, uncomment the line below.
%\usepackage[document]{ragged2e} % Left justify all text

% Style Chapter titles so they have the chapter number in grey.
\usepackage{color}
\definecolor{chaptergrey}{rgb}{0.5,0.5,0.5}
\usepackage[explicit, pagestyles]{titlesec}
\titleformat{\chapter}[display]{\bfseries}{\color{chaptergrey}\fontfamily{lmr}\fontsize{80pt}{100pt}\selectfont\thechapter}{0pt}{\Huge #1}
\titlespacing*{\chapter}{0pt}{-80pt}{30pt}


% Header showing chapter number and title and footer showing page number
\newpagestyle{fancy}{%
  \sethead{} % left
          {} % center
          {\Large\thechapter~~\chaptertitle} %right
  \setfoot{} % left
          {\thepage} % center
          {} %right
  \setheadrule{0pt}
}
\pagestyle{fancy}

% Header showing chapter title and footer showing page number
\newpagestyle{numberless}{%
  \sethead{} % left
          {} % center
          {\Large\chaptertitle} %right
  \setfoot{} % left
          {\thepage} % center
          {} %right
  \setheadrule{0pt}
}

% We use the package `minted` for modern code highlighting.
\usepackage[newfloat,chapter]{minted}
%\SetupFloatingEnvironment{listing}{name=Codefragment, listname=Lijst van codefragmenten} % lang:dutch
\SetupFloatingEnvironment{listing}{name=Listing, listname=List of Listings} % lang:english
\usemintedstyle{pastie} % for other highlighting color schemes, see https://www.overleaf.com/learn/latex/Code_Highlighting_with_minted#Reference_guide
\setminted{
    breaklines=true,
	 fontsize=\footnotesize,
}
\AtBeginEnvironment{listing}{\renewcommand{\colorbox}[3][]{#3}}

\PassOptionsToPackage{hyphens}{url}
\usepackage[hidelinks]{hyperref}
\usepackage{url}

%
% Defines \checkmark to draw a checkmark
%
\usepackage{tikz}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;}

%
% For tables
%
\usepackage{booktabs}
\usepackage{array}
\usepackage{ragged2e}  % for '\RaggedRight' macro (allows hyphenation)
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

%
% Support for splitting Dutch words correctly
%
\usepackage{polyglossia}
%\setdefaultlanguage[babelshorthands=true]{dutch} % lang:dutch
\setmainlanguage{english}                       % lang:english

% Manually specify additional hypnations for words
%
% Translated strings. If these aren't set, the English words are used.
%

% \addto\captionsenglish{\renewcommand{\contentsname}{Inhoudsopgave}}   % lang:dutch

%\usepackage[numbers]{natbib}       % For bibliography; use numeric citations
%\bibliographystyle{IEEEtranDOI}
\usepackage[backend=biber,style=ieee]{biblatex}
\usepackage[nottoc]{tocbibind}     % Put Bibliography in ToC
\addbibresource{references.bib}
\AtEveryBibitem{
    \clearfield{urlyear}
    \clearfield{urlmonth}
}
% If DOI present, don't include eprint (e.g., arxiv id)
\AtEveryBibitem{%
  \ifboolexpr{
    test {\iffieldundef{doi}}
    or
    test {\iffieldundef{eprint}}
  }
  {} % Keep both if no DOI or eprint
  {%
    \clearfield{eprint} % Remove eprint if DOI exists
  }
}

% Fix error "Package hyperref Warning: The anchor of a bookmark and its parent's must not be the same. Added a new anchor on ..."
\newcommand{\sectionbreak}{\phantomsection}

% \renewcommand\appendixtocname{Bijlagen}                     % lang:dutch
% \renewcommand\appendixpagename{Bijlagen}                    % lang:dutch


\usepackage[toc,acronym]{glossaries}  % for list of acronyms
\makeglossaries                       % start internal list of acronyms

\usepackage{siunitx}

\sisetup{
	output-decimal-marker = {.}, % Use dot for decimals
	group-separator = { },       % Use space for grouping
	group-minimum-digits = 3,    % Group digits in thousands
	tight-spacing,
	detect-all,
	range-phrase = --,
	range-units = single,
}

%
% Set the title and your name
%
\input{personal_data}

%
%  END OF UGHENT HEADER
%

%\usepackage[acronym,nomain]{glossaries}
%\usepackage[square,numbers]{natbib}
\usepackage[table]{xcolor}
%\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
%\usepackage{amsfonts}
\usepackage{arydshln}
\usepackage{braket}
\usepackage{csvsimple}
\usepackage{datetime}
\usepackage{geometry}
%\usepackage{listings}
\usepackage{longtable}
\usepackage{mathtools}
\usepackage{multirow}
\usepackage{pdfcomment}
\usepackage{pdflscape}
\usepackage{pgfplotstable} % For reading CSV files
\usepackage{tabularx}
\usepackage{tikz}
\usepackage{todonotes}
\usepackage{unicode-math}
\usepackage{varwidth}
\usepackage{svg}

\usepackage{cleveref}
\usepackage{mathrsfs}
\usepackage{tikzpeople}
\usepackage{tikz-layers}

% Define a custom format for subsection references using the section symbol (§)
%\crefformat{subsection}{\S#2#1#3}
% Note: Referencing does not feel as consistent anymore, e.g., see table 4 VS see §4

\newcommand{\TODO}[1]{\todo[color=yellow,inline]{TODO: #1}}
\newcommand{\DONE}[1]{\todo[color=green,inline]{DONE: #1}}

\newcommand{\mydateformat}[3]{#1.#2.#3}

% Listings settings.
%\input{src/listings/settings}

% TikZ settings and styles 
\input{src/schematics/settings}

\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newenvironment{defitemize}
  {\begin{itemize}[left=0pt, labelsep=5pt, itemsep=0pt, topsep=4pt, label=--]}
  {\end{itemize}}

% Adjust this value as needed
\renewcommand{\arraystretch}{1.1}

\setcounter{secnumdepth}{3}


%
%  END OF HEADER
%  The actual latex document content starts here.
%

\begin{document}
\frontmatter
\pagestyle{empty}

% Download the cover sheet from Plato
\includepdf{cover-sheet.pdf}

\include{chapters/1-acknowledgment.tex}
\include{chapters/2-disclaimer-oral-exam.tex}
\include{chapters/3-abstract.tex}
\IfFileExists{extended-abstract.pdf}{\includepdf[pages={1-5}]{extended-abstract.pdf}}{}
\tableofcontents\newpage
\listoffigures\newpage
\listoftables\newpage
\include{chapters/4-list-of-acronyms.tex}
\listoflistings\newpage

%
% Include the main chapters of the thesis below
% Note: it's best to avoid spaces in filenames as Latex might complain about them.
%

\mainmatter
\pagestyle{fancy} % Use header
\include{chapters/5-introduction}
\include{chapters/6.1-preliminaries}
\include{chapters/6.2-proposed-solution}
\include{chapters/6.3-methodology}
\include{chapters/6.4-experiments}
\include{chapters/7-conclusion.tex}
\include{chapters/8-future-work.tex}
\include{chapters/9-bibliography.tex}
\include{chapters/10-appendices.tex}

\pagestyle{numberless} 
\pagestyle{empty}
%\include{chapters/12-appendices.tex}

\end{document}

